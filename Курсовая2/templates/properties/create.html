{% extends "base.html" %}

{% block title %}Добавление объекта{% endblock %}
{% block header %}Добавление нового объекта недвижимости{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">Новый объект недвижимости</h5>
            </div>
            <div class="card-body">
                <form method="POST" action="{{ url_for('create_property') }}">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="address_properties" class="form-label">Адрес *</label>
                            <input type="text" class="form-control" id="address_properties"
                                   name="address_properties" required placeholder="ул. Ленина, д. 10, кв. 5">
                        </div>
                        <div class="col-md-6">
                            <label for="property_type" class="form-label">Тип объекта *</label>
                            <select class="form-select" id="property_type" name="property_type" required>
                                <option value="">Выберите тип</option>
                                <option value="квартира">Квартира</option>
                                <option value="дом">Дом</option>
                                <option value="офис">Офис</option>
                                <option value="участок">Земельный участок</option>
                            </select>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="owner_id" class="form-label">Владелец *</label>
                            <select class="form-select" id="owner_id" name="owner_id" required>
                                <option value="">Выберите владельца</option>
                                {% for owner in owners %}
                                <option value="{{ owner[0] }}">{{ owner[1] }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="price_properties" class="form-label">Цена (руб) *</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="price_properties"
                                       name="price_properties" step="0.01" min="0" required
                                       placeholder="10000000">
                                <span class="input-group-text">₽</span>
                            </div>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label for="area_properties" class="form-label">Площадь (м²) *</label>
                            <div class="input-group">
                                <input type="number" class="form-control" id="area_properties"
                                       name="area_properties" step="0.01" min="0" required
                                       placeholder="85.5">
                                <span class="input-group-text">м²</span>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="rooms_count_properties" class="form-label">Количество комнат *</label>
                            <input type="number" class="form-control" id="rooms_count_properties"
                                   name="rooms_count_properties" min="0" required placeholder="3">
                        </div>
                        <div class="col-md-4">
                            <label for="region_properties" class="form-label">Район *</label>
                            <input type="text" class="form-control" id="region_properties"
                                   name="region_properties" required placeholder="Центральный">
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-4">
                            <label for="floor_properties" class="form-label">Этаж *</label>
                            <input type="number" class="form-control" id="floor_properties"
                                   name="floor_properties" min="0" required placeholder="5">
                        </div>
                        <div class="col-md-4">
                            <label for="total_floors_properties" class="form-label">Всего этажей *</label>
                            <input type="number" class="form-control" id="total_floors_properties"
                                   name="total_floors_properties" min="1" required placeholder="9">
                        </div>
                        <div class="col-md-4">
                            <label for="lift_properties" class="form-label">Лифт *</label>
                            <select class="form-select" id="lift_properties" name="lift_properties" required>
                                <option value="да">Да</option>
                                <option value="нет">Нет</option>
                            </select>
                        </div>
                    </div>

                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="build_year_properties" class="form-label">Год постройки</label>
                            <input type="number" class="form-control" id="build_year_properties"
                                   name="build_year_properties" min="1800" max="2024" placeholder="2015">
                        </div>
                        <div class="col-md-6">
                            <label for="legal_aspects_properties" class="form-label">Юридические аспекты</label>
                            <input type="text" class="form-control" id="legal_aspects_properties"
                                   name="legal_aspects_properties" placeholder="Юридически чист">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="territory_comfort_properties" class="form-label">Комфорт территории</label>
                        <textarea class="form-control" id="territory_comfort_properties"
                                  name="territory_comfort_properties" rows="2"
                                  placeholder="Закрытая территория, парковка"></textarea>
                    </div>

                    <div class="mb-4">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="is_available"
                                   name="is_available" checked>
                            <label class="form-check-label" for="is_available">
                                Объект доступен для продажи/аренды
                            </label>
                        </div>
                    </div>

                    <div class="d-flex justify-content-between">
                        <a href="{{ url_for('view_properties') }}" class="btn btn-secondary">
                            <i class="bi bi-arrow-left me-1"></i>Отмена
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-check-circle me-2"></i>Добавить объект
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}